<section id="habilidad" class="skills section-bg">
    <div class="container">

      <div class="section-title">
        <div class="d-flex justify-content-between bd-highlight mb-3">
            <h2>Habilidades</h2>
            <div class="p-2 bd-highlight">
              <button (click)="openModalHabilidad()" *ngIf="isAuth" class="btn btn-success">Agregar nueva habilidad</button>
            </div>
          </div>
        <p>Listado de las habilidades en las que me destaco.</p>
      </div>

      <div class="row skills-content">

        <div class="col-lg-6" data-aos="fade-up" *ngFor="let habilidad of habilidades">

          <div class="progress">
            <span class="skill">{{habilidad.nombre}} <i class="val">{{habilidad.grado}}%</i></span>
            <div class="progress-bar-wrap">
              <div class="progress-bar" role="progressbar" aria-valuenow="100" [ngStyle]="{'width.%':habilidad.grado}" aria-valuemin="" aria-valuemax="100"></div>
            </div>
         
          </div>
          <button class="btn btn-info" *ngIf="isAuth" (click)="openModalHabilidadEdit(habilidad)">Editar</button>
          <button class="btn btn-danger ms-2" *ngIf="isAuth" (click)="deleteHabilidad(habilidad.id!)">Eliminar</button>
        </div>

      </div>

    </div>
  </section><!-- End Skills Section -->


<!--form modal-->
<div class="modal fade" id="modal_habilidad" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">


    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Nueva habilidad</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                </button>
            </div>

            <div class="modal-body">
                <form [formGroup]="formulario">
                    <input type="hidden" class="form-control" formControlName="id" name="id" id="id">
                    <div class="form-group">
                        <label for="nombre">Nombre <label style="color:red">(*)</label></label>
                        <input type="text" class="form-control" formControlName="nombre" value="" required>
                    </div>
                    <div class="form-group">
                        <label for="grado">Grado</label>
                        <select name="grado" id="grado-select" class="form-control form-select" formControlName="grado">
                          <option value="0">0</option>
                          <option value="10">10</option>
                          <option value="20">20</option>
                          <option value="30">30</option>
                          <option value="40">40</option>
                          <option value="50">50</option>
                          <option value="60">60</option>
                          <option value="70">70</option>
                          <option value="80">80</option>
                          <option value="90">90</option>
                          <option value="100">100</option>
                        </select>
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>

                <button *ngIf="!isUpdating" type="button" class="btn btn-primary"(click)="addHabilidad()">
                    <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                    Guardar
                </button>


                <button *ngIf="isUpdating" type="button" class="btn btn-primary"(click)="updateHabilidad()">
                    <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                    Actualizar
                </button>
            </div>
        </div>
    </div>
</div>